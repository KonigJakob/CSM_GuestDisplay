[gd_scene load_steps=8 format=3 uid="uid://dl8lffvjrwol6"]

[ext_resource type="PackedScene" uid="uid://cigu3gjcmh4rx" path="res://UI_Details/button_styled.tscn" id="2_n80u1"]

[sub_resource type="GDScript" id="GDScript_av1n2"]
script/source = "extends Control

signal panel_opened
signal panel_closed

@onready var is_hidden = true
@onready var viewport = get_viewport_rect()
@onready var original_size = size

@onready var parent_node = get_parent()
@onready var top_container = $VBoxContainer
@onready var back_panel = $Panel
@onready var timer = $Timer
@export var x_button = button_syled

@export var tween_duration: float
var screen_center: Vector2

var tween

func _ready():
	scale = Vector2(0, 0)
	screen_center = get_viewport_rect().size/2
	global_position = screen_center
	x_button.position = Vector2(x_button.size.x + 70, get_viewport_rect().size.y - x_button.size.y - 35)

func _on_visibility_changed():
	if is_hidden:
		scale_panel(true)
	else:
		is_hidden = true

func start_timer():
	timer.start()

func _on_button_pressed():
	x_button.visible = false
	scale_panel(false)

func _on_timer_timeout():
	x_button.visible = false
	scale_panel(false)

func scale_panel(up : bool):
	if up:
		global_position = screen_center
		x_button.visible = true
		tween = get_tree().create_tween().set_parallel(true).set_ease(Tween.EASE_OUT)
		tween.tween_property(self, \"scale\", Vector2(1, 1), tween_duration)
		tween.tween_property(top_container, \"size\", viewport.size, tween_duration)
		tween.tween_property(back_panel, \"size\", viewport.size, tween_duration)
		tween.tween_property(self, \"global_position\", Vector2(0,0), tween_duration)
		z_index = 2
		is_hidden = false
		call_deferred(\"start_timer\")
		panel_opened.emit()
	else:
		x_button.visible = false
		tween = get_tree().create_tween().set_parallel(true)
		tween.tween_property(self, \"scale\", Vector2(0, 0), tween_duration)
		tween.tween_property(self, \"global_position\", screen_center, tween_duration)
		#tween.tween_property(back_panel, \"size\", Vector2(0,0), tween_duration)
		#tween.tween_property(back_panel, \"global_position\", screen_center, tween_duration)
		tween.set_parallel(false)
		tween.tween_property(self, \"visible\", false, tween_duration)
		z_index = 0
		panel_closed.emit()

func _on_back_button_child_button_pressed():
	scale_panel(false)
	panel_closed.emit()
"

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_e1iba"]
bg_color = Color(0.241156, 0.241156, 0.241156, 1)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_37mns"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_7lvmn"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_uek1e"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_utlub"]

[node name="Control" type="Control" node_paths=PackedStringArray("x_button")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = -720.0
offset_bottom = -1280.0
grow_horizontal = 2
grow_vertical = 2
script = SubResource("GDScript_av1n2")
x_button = NodePath("Back_Button")
tween_duration = 0.5

[node name="Panel" type="Panel" parent="."]
layout_mode = 0
offset_right = 1080.0
offset_bottom = 1920.0
theme_override_styles/panel = SubResource("StyleBoxFlat_e1iba")

[node name="VBoxContainer" type="VBoxContainer" parent="."]
layout_mode = 0
offset_right = 1080.0
offset_bottom = 1902.0

[node name="Panel2" type="Panel" parent="VBoxContainer"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_e1iba")

[node name="MarginContainer" type="MarginContainer" parent="VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
theme_override_constants/margin_left = 30
theme_override_constants/margin_top = 60
theme_override_constants/margin_right = 30
theme_override_constants/margin_bottom = 60

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/MarginContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="Image_1" type="TextureRect" parent="VBoxContainer/MarginContainer/HBoxContainer"]
custom_minimum_size = Vector2(562.5, 703.125)
layout_mode = 2
size_flags_horizontal = 2
size_flags_vertical = 4
expand_mode = 1

[node name="VBoxContainer" type="VBoxContainer" parent="VBoxContainer/MarginContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 4
theme_override_constants/separation = 35

[node name="Image_2" type="TextureRect" parent="VBoxContainer/MarginContainer/HBoxContainer/VBoxContainer"]
custom_minimum_size = Vector2(450, 211.5)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 6
expand_mode = 1

[node name="Image_3" type="TextureRect" parent="VBoxContainer/MarginContainer/HBoxContainer/VBoxContainer"]
custom_minimum_size = Vector2(450, 211.5)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 6
expand_mode = 1

[node name="Image_4" type="TextureRect" parent="VBoxContainer/MarginContainer/HBoxContainer/VBoxContainer"]
custom_minimum_size = Vector2(450, 211.5)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 6
expand_mode = 1

[node name="MarginContainer2" type="MarginContainer" parent="VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
theme_override_constants/margin_left = 60
theme_override_constants/margin_right = 60

[node name="VBoxContainer" type="VBoxContainer" parent="VBoxContainer/MarginContainer2"]
layout_mode = 2

[node name="Name" type="Label" parent="VBoxContainer/MarginContainer2/VBoxContainer"]
texture_filter = 1
layout_mode = 2
theme_override_font_sizes/font_size = 80
text = "Name Placholder"
autowrap_mode = 2

[node name="Country" type="Label" parent="VBoxContainer/MarginContainer2/VBoxContainer"]
texture_filter = 1
custom_minimum_size = Vector2(0, 35)
layout_mode = 2
theme_override_font_sizes/font_size = 48
text = "Country Placholder"
vertical_alignment = 1

[node name="Birth" type="Label" parent="VBoxContainer/MarginContainer2/VBoxContainer"]
custom_minimum_size = Vector2(0, 35)
layout_mode = 2
theme_override_font_sizes/font_size = 48
text = "Placeholder date"

[node name="Panel" type="Panel" parent="VBoxContainer/MarginContainer2/VBoxContainer"]
custom_minimum_size = Vector2(0, 35)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxEmpty_37mns")

[node name="Info" type="Label" parent="VBoxContainer/MarginContainer2/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 1
theme_override_font_sizes/font_size = 32
text = "Renowned tech pioneer and philanthropist Bill Gates, co-founder of Microsoft, recently graced the halls of Berlin's Computerspielemuseum, immersing himself in a journey through the evolution of gaming technology. From vintage consoles to cutting-edge virtual reality experiences, Gates delved into the rich history and innovative future of gaming, engaging with interactive exhibits that showcase the cultural significance and technological advancements of this dynamic industry.

Der angesehene Technologiepionier und Philanthrop Bill Gates, Mitbegründer von Microsoft, besuchte kürzlich die Hallen des Computerspielemuseums in Berlin und tauchte ein in die Entwicklung der Gaming-Technologie. Von Vintage-Konsolen bis hin zu modernsten Virtual-Reality-Erlebnissen erkundete Gates die reiche Geschichte und innovative Zukunft des Gamings. Er interagierte mit interaktiven Ausstellungsstücken, die die kulturelle Bedeutung und technologischen Fortschritte dieser dynamischen Branche verdeutlichen."
autowrap_mode = 2

[node name="Button" type="Button" parent="."]
layout_mode = 0
offset_right = 1080.0
offset_bottom = 1920.0
theme_override_styles/normal = SubResource("StyleBoxEmpty_7lvmn")
theme_override_styles/hover = SubResource("StyleBoxEmpty_uek1e")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_utlub")

[node name="Timer" type="Timer" parent="."]
wait_time = 30.0
one_shot = true

[node name="Back_Button" parent="." instance=ExtResource("2_n80u1")]
custom_minimum_size = Vector2(75, 75)
layout_mode = 1
offset_left = 165.0
offset_top = 1117.5
offset_right = -120.0
offset_bottom = 552.5
button_color = Color(0.72549, 0.878431, 0.270588, 1)
button_text = "X"
button_size = Vector2(75, 75)
button_toggle_mode = false

[connection signal="visibility_changed" from="." to="." method="_on_visibility_changed"]
[connection signal="pressed" from="Button" to="." method="_on_button_pressed"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
[connection signal="child_button_pressed" from="Back_Button" to="." method="_on_back_button_child_button_pressed"]
